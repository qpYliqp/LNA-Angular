<div class="fixed top-0 left-0 w-screen h-screen bg-third/70 flex justify-center items-center z-[2] p-2 md:p-0">

  <div class="bg-third border-secondary border-2 p-2 md:p-5 w-full h-full md:w-[50rem] md:h-[37.5rem] flex flex-col overflow-hidden rounded-sm shadow-2xl">

    <div class="flex flex-row items-center justify-between">
      <p class="!text-white/50 text-lg">Créer un livre</p>
      <i class="pi text-xl pi-times text-secondary hover:cursor-pointer hover:text-l-red/60"></i>
    </div>
    <p-stepper [(value)]="currentStep" [pt]="{
      root: {class:'flex-1 w-full h-full flex flex-col min-h-0'},
      motion: {disabled: true,duration: 0, appear: false, enter: false}
    }">

      <p-step-list>
        <p-step [value]="0" [pt]="{
          root: {class: '!text-primary [&_.p-stepper-separator]:!bg-secondary'},
          number: {class:'!bg-primary !text-secondary !border-none [[data-p-active=true]_&]:!text-white/50'},
          title: {class:'!text-secondary [[data-p-active=true]_&]:!text-white/50'}}"
        >Détails</p-step>
        <p-step [value]="1" [pt]="{
          root: {class: '!text-primary [&_.p-stepper-separator]:!bg-secondary'},
          number: {class:'!bg-primary !text-secondary !border-none [[data-p-active=true]_&]:!text-white/50'},
          title: {class:'!text-secondary [[data-p-active=true]_&]:!text-white/50'}}">Auteurs</p-step>
      </p-step-list>

      <p-step-panels [pt]="{
          root: { class: 'flex-1 flex flex-col w-full bg-third h-full min-h-0 overflow-hidden relative' }
        }">

        <p-step-panel [value]="0" [pt]="{
          root: {
            class: ' flex bg-black flex-col h-full w-full min-h-0 [&_.p-motion]:h-full [&_.p-motion]:!bg-third [&_.p-motion]:flex [&_.p-motion]:flex-col [&_.p-stepper-separator]:hidden'
          },
          contentWrapper: {
            class: 'flex flex-1 bg-third flex-col !h-full w-full min-h-0 overflow-hidden'
          },
          content: {
            class: 'flex-1 flex flex-col bg-third w-full h-full min-h-0 overflow-hidden'
          }
        }">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="flex-1 overflow-y-auto w-full flex flex-col items-center justify-start p-2">
              <book-details-form/>
            </div>
          </ng-template>
        </p-step-panel>

        <p-step-panel [value]="1" [pt]="{
          root: {
            class: 'flex bg-black flex-col h-full w-full min-h-0 [&_.p-motion]:!bg-third [&_.p-motion]:h-full [&_.p-motion]:flex [&_.p-motion]:flex-col [&_.p-stepper-separator]:hidden'
          },
          contentWrapper: {
            class: 'flex flex-1 bg-third flex-col !h-full w-full min-h-0 overflow-hidden'
          },
          content: {
            class: 'flex-1 flex flex-col w-full h-full min-h-0 overflow-hidden'
          }
        }">
          <ng-template #content let-activateCallback="activateCallback">
            <div class="flex-1 overflow-y-auto w-full flex flex-col items-center justify-start p-2">
              <book-author-form/>
            </div>
          </ng-template>
        </p-step-panel>

      </p-step-panels>
      <div class="pt-1 flex justify-end flex-none w-full bg-third border-t border-secondary">
        <classic-button [label]="'Next →'"></classic-button>
      </div>
    </p-stepper>
  </div>
</div>
